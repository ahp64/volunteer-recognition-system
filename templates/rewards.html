{% extends 'base.html' %}

{% block title %}My Rewards{% endblock %}

{% block content %}
    <h2>My Rewards</h2>

    <ul class="list-group">
        {% for reward in rewards %}
            <li class="list-group-item">
                <strong>{{ reward.name }}</strong>: {{ reward.description }}
            </li>
        {% else %}
            <li class="list-group-item">No rewards yet. Keep volunteering!</li>
        {% endfor %}
    </ul>

    {% if next_reward %}
        <h3 class="mt-4">Progress Toward Your Next Reward</h3>
        <div class="progress" style="height: 30px;">
            <div
                class="progress-bar bg-success"
                role="progressbar"
                style="width: {{ progress }}%;"
                aria-valuenow="{{ progress }}"
                aria-valuemin="0"
                aria-valuemax="100">
                {{ progress|round(1) }}%
            </div>
        </div>
        <p>You are <strong>{{ next_reward.threshold - current_user.hours_volunteered }}</strong> hours away from achieving the <strong>{{ next_reward.name }}</strong>!</p>
    {% else %}
        <p class="text-success mt-4">Congratulations! You've unlocked all rewards. Keep up the amazing work!</p>
    {% endif %}
{% endblock %}
